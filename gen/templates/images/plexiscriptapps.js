PlexiOS.registerJavaScript('image', 'plexiscriptapps', async (imgUtil) => {
    const DATA = {"apps": [{"id": "hello", "payload": "UFhDUwAAAQALUGxleGlTY3JpcHQFMC4xLjBNVEQZC1NUUiIBbQFpAW8BYQFzA2FycgFjAWYBcAE8Bmxlbmd0aAI9PQNhZGQDY21wBGtleXMBbgF2AAErCmlzX3N5c19jbXAFa2V5Rm4GbWlycm9yA21zZw0gTWlzc2lzc2lwcGkhAT4CPj0EYXJncw1IZWxsbywgV29ybGQhCWlvX3N0ZG91dCFMaXN0IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgaXRlbS4HbWVzc2FnZQlwYXJzZV9pbnQaUmVhZHkgb3Igbm90LCBoZXJlIEkgY29tZSEFdHJhY2VUT0uCASsCD2J1aWx0aW5zLnNjcmlwdA1oZWxsbzptYWluLnB4AAoqAAo2AAsyAAs+AAw0AAxAAA0vAA07AA4wAA48AA8zAA8/ABAyABA+ABEvABE7ABI3ABJDABMpABM1AAIeABQwABQ8ABUyABU+ABYPABYSABcJAAMYACYQACYVAC0PAC0UAC0eAAYOAAYRAAcRAAcUAAgRAAgUAAgXAAlIAQEPAAEdAAEkAAEvAAo4AApDAAtAAAtLAAxCAAxNAA09AA1IAA4+AA5JAA9BAA9MABBAABBLABE9ABFIABJFABJQABM3ABNCAAIjAAIqAAI1ABQ+ABRJABVAABVLABgPABghABgiABgJABkPABkpABkqABkJABoPABopABoqABoJABsPABsrABssABsJABwPABwmABwnABwJAB0PAB0nAB0oAB0JAAMdAAMkAB4PAB4pAB4qAB4JAB8PAB8mAB8nAB8JACAPACAgACAhACAJACEKACEQACEoACEpACIKACIQACIqACIrACQBACQUACQVACQHACcGACcIAAQiACgKACgNACgPACgRACgUACgdACgeACgIACkBACkKACkPACkQACkTACkUACkFACkJACsBACsMACsNACsTACsZACsIAC0YAC0lAC4MAC4OAC4SAC4VAC8RAC8WAC8DADADADAFADAGADAJADEbADEeADEIAAUnADIPADITADIeADIlADImADInADIrADIsADItADIzADI2ADI3ADI4ADI5ADI9ADI+ADI/ADJEADJGADQBADQSAAYYAAYaAAYgAAYiAAYjAAYzAAY1AAY4AAY6AAY8AAY/AAZAAAZEAAZFAAZJAAZKAAZLAAZMAAZNAAZOAAZUAAZbAAdlAAdmAAdqAAdrAAdxAAd4AAcbAAcdAAcjAAclAAcmAAc2AAc4AAc7AAc9AAc/AAdCAAdDAAdLAAdNAAdOAAdPAAdXAAdYAAdZAAdcAAdfAAiBgQAIgYMACIGEAAiBhQAIgYsACIGNAAiBmQAIgZsACIGlAAiBpwAIgakACIGwAAiBsgAIgbMACIG0AAiBtwAIgbgACIG5AAiBvgAIgb8ACIHFAAiBzAAIGwAIJwAIKQAIKgAINwAIOQAIPAAISgAITAAITgAIUQAIVQAIVgAIWQAJZgAJagAJbQAJcQAJcwAJNgAJOAAJTgAJVgAJYwECCgECCwECBQEDDAEDDgEDEgEDFAEDFwEDGgEDGwEEDgEEDwEEEQEEEwEECQEGCgEGCwEGBUVOVBkADQICBmZpbHRlciYhBiUAAwMEJSEGJgEDAwgmDAaB2AADAwOB1y0DBIHaDwMLgdsDAwWB2SgGgd0AAwMCgdwtAwKB3i0DBYHgBAMKgd8cBBUtAwSB5C0DAoHmFgKB5QMDEYHjLQMIgectAxGB6RUGgegBJAaB6wEEAwyB6hwEBS0DA4HRDwMNgdItAxGB1BUGgdMBGwAtAwKB4TQAFwaB4gEDAQIbABgEkRktAwOB1i4CgdUBAQVmbG9vcgQhBh0AAwMQHRkCYy4CYgAAC2dldFVuaXhUaW1lAjAIAQAuAn4AABBnZXRVbml4VGltZUZsb2F0AjAIAQEuAoGlAgIDbWFwICEGIwADAwQjIQYkAQMDCCQMBoG8AAMDA4G7LQMEgb4PAwuBvwMDBYG9KAaBwQADAwKBwC0DAoHCLQMFgcQEAwqBwxwEDy0DA4HHDwMNgcgtAwiByi0DBIHMLQMCgc4WAoHNFQaBywEVBoHJARsALQMCgcU0ABcGgcYBAwECGwAYBJETLQMDgdAuAoHPAQEFcHJpbnQFIQYAAAMDAwAtAwMuFAcdLQEuAiwCAwZyZWR1Y2UzIQYnAAMDBCchBigBAwMIKCIKKQIBJwaCAQIHAwMHKS0DBIIBBA8DC4IBBQMDBYIBAy0DB4IBBicGggEIBwQDDIIBBxwEEC0DBYIBCSgGggELAQQDCoIBChwEBScGggEMCigGggEOAioDHoIBDxUGggENAhsALQMEge0oBoHvABYCge4DAweB7CgGgfEBAwMCgfAYBAIoBoHzAAMDAoHyLQMCgfQtAwWB9gQDCoH1HAQNLQMIgfgtAweB+i0DBIH7LQMCgf0WAoH8FQaB+QIDAweB9y0DAoH+NAAXBoH/AQMBAhsAGASRES0DB4IBAS4CggEAAQMEc29ydDUhBiAAAwMGICIKIQEBJwaBlQgDAw4hIgoiAgEpAoGWAwMWIi0DDoGYJwaBmggEAwyBmQMDFIGXLQMGgZstAxaBnDAEAgMDA4GdKAaBoAAoBoGhAAwGgZ8CAwMJgZ4tAwOBoi0DCYGjMAQEEAKBpBwEGS0DA4GmLQMUgacQAoGoHAQILQMJgakoBoGrABYCgaotAwmBrCgGga4BFgKBrTAEBhgECC0DDoGvLQMJgbEoBoGzABYCgbItAwmBtCgGgbYBFgKBtRUGgbACKAaBuAAEAxmBtzAEBRsAGASRHi0DA4G6MAQDLgKBuQICBXNvcnRLIiEGHgADAwYeIQYfAQMDFR8MBn0AAwMPfCgGfwADAwKBhi0DAoGALQMGgYIPAwuBgwQDCoGBHAQPLQMPgYcPAw2BjS0DFYGILQMGgYotAwKBjBYCgYsVBoGJARUGgY4BGwAtAwKBhDQAFwaBhQEDAQIbABgEkRQnBoGUCC0DD4GRJwaBkggtAwaBkxUGgZADLgKBjwICBHRocnc7IQYaAAMDEBohBhsBAwMBGy0DEBwSAhw3CC4BNlyRAQIBBgIKAw4EEgUWBhoHHggiCSYKKgs4BAIOBkoCLQMBTBUGSwE7Ak0OBk4NLQMBUBUGTwE7AlEOBlIDLQMBVBUGUwE7AlUOBlYFLQMBWBUGVwE7AlkOBloGLQMBXBUGWwE7Al0OBl4HLQMBYBUGXwE7AmEOBmQJLQMBZhUGZQE7AmcOBmgKLQMBahUGaQE7AmsOBmwLLQMBbhUGbQE7Am8OBnEMLQMBcxUGcgE7AnAOBnUELQMBdxUGdgE7AnQOBnsBLQMBehUGeQE7AngpAC4AAQELdHJ5UGFyc2VJbnQFIQYVAAMDBRUtAwVFFAcgRAEuAkMAAQVAY3Rvcg8iCioAASkCggEXAwMXKgwGggEWACsAAQMiggEVLQMXggEQHwaCAREBKgMSggESKgMSggEUBAMTggETKwKCARgBAx+CARkpAC4AAAEFQGN0b3IJIgoCAAEpAi8DAwECIwYBAS0DATAVBgEBGwApAC4AAAEFQGN0b3IJIgoEAAEpAjEDAwEEIwYDAS0DATIVBgMBGwApAC4AAAEFQGN0b3IJIgoZAAEpAkgDAwEZIwYYAS0DAUkVBhgBGwApAC4AAAEFQGN0b3IJIgoGAAEpAjMDAwEGIwYFAS0DATQVBgUBGwApAC4AAAEFQGN0b3IJIgoIAAEpAjUDAwEIIwYHAS0DATYVBgcBGwApAC4AAAEFQGN0b3IJIgoKAAEpAjcDAwEKIwYJAS0DATgVBgkBGwApAC4AAAEFQGN0b3IJIgoMAAEpAjkDAwEMIwYLAS0DAToVBgsBGwApAC4AAAEFQGN0b3IJIgoOAAEpAjsDAwEOIwYNAS0DATwVBg0BGwApAC4AAAEFQGN0b3IJIgoQAAEpAj0DAwEQIwYPAS0DAT4VBg8BGwApAC4AAAEFQGN0b3IJIgoSAAEpAj8DAwESIwYRAi0DAUAVBhEBGwApAC4AAAEFQGN0b3IJIgoUAAEpAkEDAwEUIwYTAS0DAUIVBhMBGwApAC4AAAEFQGN0b3IJIgoXAAEpAkYDAwEXIwYWAS0DAUcVBhYBGwApAC4AAQEEbWFpbh4hBisAAwMbKycGggEcBioDHIIBGxUGggEaARsAKAaCAR4KAwMCggEdLQMCggEfKAaCASEBBAMaggEgHAQMJwaCASgGLQMCggElKgMYggEnBAMTggEmFQaCASQBGwAtAwKCASI0ABcGggEjkQEDAQIbABgEkRAnBoIBKwYqAyGCASoVBoIBKQEbACkALgAJRXhjZXB0aW9uAAwAAgAAAAdtZXNzYWdlAAV0cmFjZQAORmF0YWxFeGNlcHRpb24BDQAAAAAAFkZpZWxkTm90Rm91bmRFeGNlcHRpb24BDgAAAAAAFkltbXV0YWJsZURhdGFFeGNlcHRpb24BDwAAAAAAGEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbgEQAAAAAAATSW52b2NhdGlvbkV4Y2VwdGlvbgERAAAAAAAUS2V5Tm90Rm91bmRFeGNlcHRpb24BEgAAAAAAF05vdEltcGxlbWVudGVkRXhjZXB0aW9uARMAAAAAABZOdWxsUmVmZXJlbmNlRXhjZXB0aW9uARQAAAAAABNPdXRPZlJhbmdlRXhjZXB0aW9uARUAAAAAAA1UeXBlRXhjZXB0aW9uARcAAAAAABRaZXJvRGl2aXNvckV4Y2VwdGlvbgEYAAAAAAAWU3RhY2tPdmVyZmxvd0V4Y2VwdGlvbgIWAAAAAAA="}]};
    await imgUtil.ensureDirExists('/tmp/plexiscripttest');
    console.log("TODO: imgUtil.makePlexiExecutable");
    for (let app of DATA.apps) {
        await imgUtil.makeTextFile('/tmp/plexiscripttest/' + app.id, app.payload);
    }
});
